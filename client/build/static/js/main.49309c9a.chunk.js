(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},56:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a.n(l),c=a(2),o=a(3),i=a(6),u=a(5),m=a(7),h=a(30),p=a(63),d=a(64),f=a(65),g=a(67),E=a(12),v=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},e.label),r.a.createElement("input",{onChange:e.onChange,type:e.type,name:e.name,className:"form-control",placeholder:e.placeholder}))},b=a(14),y=a.n(b),N={saveUser:function(e){return y.a.post("/api/signup",e)},getUser:function(e){return y.a.post("/api/login",e)},saveGrapher:function(e){return y.a.post("/api/photographers",e)},saveCustomer:function(e){return y.a.post("/api/customers",e)},grabUser:function(){return y.a.post("/api/user_data")},saveImage:function(){return y.a.post("")}},O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.password&&a.state.email&&N.getUser({email:a.state.email,password:a.state.password}).then(function(e){return a.isAuthenticated(e)}).catch(function(e){return console.log(e)})},a.state={authenticated:!1,email:"",password:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.isAuthenticated({})}},{key:"isAuthenticated",value:function(e){200===e.status&&(sessionStorage.setItem("token",e.config.data),window.location.href="/members")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",null,"Login Form"),r.a.createElement("form",{className:"login"},r.a.createElement(v,{value:this.state.email,onChange:this.handleInputChange,name:"email",placeholder:"Email",label:"Email Address",type:"email"}),r.a.createElement(v,{value:this.state.password,onChange:this.handleInputChange,name:"password",placeholder:"Enter Password",label:"Password",type:"password"}),r.a.createElement("button",{onClick:this.handleFormSubmit,className:"btn btn-default",disabled:!(this.state.email&&this.state.password)},"Login")),r.a.createElement("br",null),r.a.createElement("p",null,"Or sign up ",r.a.createElement("a",{href:"/signup"},"here")))))}}]),t}(r.a.Component),w=function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("label",{className:"input-group-text",for:"inputGroupSelect01"},e.label)),r.a.createElement("select",{className:"custom-select",id:"inputGroupSelect01",onChange:e.onChange,type:e.type,name:e.name},r.a.createElement("option",{selected:!0},"Choose.."),r.a.createElement("option",{value:"Customer"},"Customer"),r.a.createElement("option",{value:"Photographer"},"Photographer"))))},j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:!1,email:"",password:"",firstName:"",lastName:"",userType:""},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.password&&a.state.email&&N.saveUser({email:a.state.email,password:a.state.password,firstName:a.state.firstName,lastName:a.state.lastName,userType:a.state.userType}).then(function(e){return a.isAuthenticated(e)}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.isAuthenticated({})}},{key:"isAuthenticated",value:function(e){200===e.status&&(sessionStorage.setItem("token",e.config.data),window.location.href="/members")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",null,"SignUp Form"),r.a.createElement("form",{className:"login"},r.a.createElement(v,{value:this.state.firstName,onChange:this.handleInputChange,name:"firstName",placeholder:"Enter your First Name",label:"First Name",type:"text"}),r.a.createElement(v,{value:this.state.lastName,onChange:this.handleInputChange,name:"lastName",placeholder:"Enter Your Last Name",label:"Last Name",type:"text"}),r.a.createElement(v,{value:this.state.email,onChange:this.handleInputChange,name:"email",placeholder:"Email",label:"Email Address",type:"email"}),r.a.createElement(v,{value:this.state.password,onChange:this.handleInputChange,name:"password",placeholder:"Enter Password",label:"Password",type:"password"}),r.a.createElement(w,{value:this.state.userType,onChange:this.handleInputChange,name:"userType",placeholder:"User or Photographer",label:"User or Photographer",type:"text"}),r.a.createElement("button",{onClick:this.handleFormSubmit,className:"btn btn-primary",disabled:!(this.state.email&&this.state.password&&this.state.firstName&&this.state.lastName&&this.state.userType),type:"reset"},"Sign Up")),r.a.createElement("br",null),r.a.createElement("p",null,"Or Login ",r.a.createElement("a",{href:"/"},"here")))))}}]),t}(n.Component),C=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"authenticateUser",value:function(e){sessionStorage.setItem("token",e)}},{key:"isUserAuthenticated",value:function(){return null!==sessionStorage.getItem("token")}},{key:"deauthenticateUser",value:function(){sessionStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),e}(),k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:!1,email:"",password:""},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),console.log(a.state.email),a.state.password&&a.state.email&&N.getUser({email:a.state.email,password:a.state.password}).then(function(e){return a.isAuthenticated(e)}).catch(function(e){return console.log(e)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"isAuthenticated",value:function(e){200===e.status&&(console.log(e.config.data),this.setState({authenticated:!0}),window.location.href="/signup")}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h1",null,"HOOOOMMMMMEEEE")),C.isUserAuthenticated()?r.a.createElement("div",null,"Logged in"):r.a.createElement("div",null,"Not Logged in")))}}]),t}(r.a.Component),S=a(11),U=a.n(S),A=a(15),I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).fileSelectedHandler=function(e){a.setState({selectedFile:e.target.files[0]})},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault();var t=new FormData;t.append("image",a.state.selectedFile,a.state.selectedFile.name),N.saveGrapher({specialty:a.state.specialty},t).then(function(){window.location.href="/members"}).catch(function(e){return console.log(e)})},a.state={firstName:"",specialty:"",selectedFile:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:N.grabUser().then(function(e){t.setState({firstName:e.data.firstName})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},"I am a GRAPHER ",this.state.firstName,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-md-offset-3"},r.a.createElement("h2",null,"What is your Specialty"),r.a.createElement("form",null,r.a.createElement(v,{value:this.state.specialty,onChange:this.handleInputChange,name:"specialty",placeholder:"Wedding",label:"specialty",type:"text"}),r.a.createElement("input",{type:"file",onChange:this.fileSelectedHandler}),r.a.createElement("button",{onClick:this.handleFormSubmit,className:"btn btn-primary",disabled:!this.state.specialty,type:"reset"},"Add")))))}}]),t}(r.a.Component),F=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={firstName:"",specialty:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:N.grabUser().then(function(e){t.setState({firstName:e.data.firstName})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},"Welcome to the Customer page ",this.state.firstName)}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={firstName:"",userType:"",isUser:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(U.a.mark(function e(){var t=this;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:N.grabUser().then(function(e){"Customer"===e.data.userType&&t.setState({isUser:!0}),t.setState({firstName:e.data.firstName})}).catch(function(e){console.log(e)});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},this.state.isUser?r.a.createElement(F,null):r.a.createElement(I,null))}}]),t}(n.Component),M=a(66),D=a(62),P=(a(56),Object(M.a)(function(e){var t=e.history;return C.isUserAuthenticated()?r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){C.deauthenticateUser(function(){return t.push("/")}),window.location.href="/"},className:"btn btn-danger"},"Sign out")):r.a.createElement("p",null,"You are not logged in.")})),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({authenticated:C.isUserAuthenticated()},function(){console.log(this.state.authenticated)})}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("ul",null,this.state.authenticated?r.a.createElement("div",null,r.a.createElement("li",null,r.a.createElement(D.a,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(D.a,{to:"/members"},"Members Content"))):r.a.createElement("div",null,r.a.createElement("li",null,r.a.createElement(D.a,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(D.a,{to:"/login"},"Login Here")),r.a.createElement("li",null,r.a.createElement(D.a,{to:"/signup"},"SignUp Here")),r.a.createElement("li",null,r.a.createElement(D.a,{to:"/members"},"Members Content"))))),r.a.createElement("div",{className:"col-md-4 text-right"},r.a.createElement(P,null))))}}]),t}(n.Component),H=(a(60),function(e){var t=e.component,a=Object(h.a)(e,["component"]);return r.a.createElement(p.a,Object.assign({},a,{render:function(e){return!0===C.isUserAuthenticated()?r.a.createElement(t,e):r.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),L=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={authenticated:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({authenticated:C.isUserAuthenticated()},function(){console.log(this.state.authenticated)})}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(p.a,{path:"/",component:k,exact:!0}),r.a.createElement(p.a,{path:"/login",component:O,exact:!0}),r.a.createElement(p.a,{path:"/signup",component:j,exact:!0}),r.a.createElement(H,{path:"/members",component:x,exact:!0}),r.a.createElement(p.a,{render:function(){return r.a.createElement(d.a,{to:"/"})}})))))}}]),t}(n.Component);s.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.49309c9a.chunk.js.map